---
layout: "azapi"
page_title: "Provider: Azure API"
description: |-
  The AzAPI Provider is used to interact with the many resources supported by Azure Resource Manager through its APIs.
---

# AzAPI Provider

The AzAPI provider is a very thin layer on top of the Azure ARM REST APIs. This provider compliments the [AzureRM provider](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs) by enabling the management of Azure resources that are not yet or may never be supported in the AzureRM provider such as private/public preview services and features.

Documentation regarding the [Data Sources](/docs/configuration/data-sources.html) and [Resources](/docs/configuration/resources.html) supported by the AzAPI Provider can be found in the navigation to the left.

Interested in the provider's latest features, or want to make sure you're up to date? Check out the [changelog](https://github.com/Azure/terraform-provider-azapi/blob/main/CHANGELOG.md) for version information and release notes.

Strongly recommended to install [AzApi VSCode Extension](https://marketplace.visualstudio.com/items?itemName=azapi-vscode.azapi), it provides a rich authoring experience to help you use the AzApi provider.

Also, there is a rich library of [examples](https://github.com/Azure/terraform-provider-azapi/tree/main/examples) to help you get started.

## Authenticating to Azure

Terraform supports a number of different methods for authenticating to Azure:

* [Authenticating to Azure using the Azure CLI](guides/azure_cli.html)
* [Authenticating to Azure using Managed Service Identity](guides/managed_service_identity.html)
* [Authenticating to Azure using a Service Principal and a Client Certificate](guides/service_principal_client_certificate.html)
* [Authenticating to Azure using a Service Principal and a Client Secret](guides/service_principal_client_secret.html)
* [Authenticating to Azure using OpenID Connect](guides/service_principal_oidc.html)

---

We recommend using either a Service Principal or Managed Service Identity when running Terraform non-interactively (such as when running Terraform in a CI server) - and authenticating using the Azure CLI when running Terraform locally.

## Example Usage

```hcl
# We strongly recommend using the required_providers block to set the
# Azure Provider source and version being used
terraform {
  required_providers {
    azapi = {
      source = "azure/azapi"
    }
  }
}

provider "azapi" {
}

```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `auxiliary_tenant_ids` (List of String) The Auxiliary Tenant IDs which should be used.
- `client_certificate` (String) A base64-encoded PKCS#12 bundle to be used as the client certificate for authentication.
- `client_certificate_password` (String) The password associated with the Client Certificate. For use when authenticating as a Service Principal using a Client Certificate
- `client_certificate_path` (String) The path to the Client Certificate associated with the Service Principal for use when authenticating as a Service Principal using a Client Certificate.
- `client_id` (String) The Client ID which should be used.
- `client_id_file_path` (String) The path to a file containing the Client ID which should be used.
- `client_secret` (String) The Client Secret which should be used. For use When authenticating as a Service Principal using a Client Secret.
- `client_secret_file_path` (String) The path to a file containing the Client Secret which should be used. For use When authenticating as a Service Principal using a Client Secret.
- `custom_correlation_request_id` (String) The value of the x-ms-correlation-request-id header (otherwise an auto-generated UUID will be used).
- `default_location` (String) The default location which should be used for resources.
- `default_name` (String) The default name which should be used for resources.
- `default_naming_prefix` (String, Deprecated) The default prefix which should be used for resources.
- `default_naming_suffix` (String, Deprecated) The default suffix which should be used for resources.
- `default_tags` (Map of String) The default tags which should be used for resources.
- `disable_correlation_request_id` (Boolean) This will disable the x-ms-correlation-request-id header.
- `disable_terraform_partner_id` (Boolean) This will disable the Terraform Partner ID which is used if a custom `partner_id` isn't specified.
- `enable_hcl_output_for_data_source` (Boolean) Enable HCL output for data sources. The default is false. When set to true, the provider will return HCL output for data sources. When set to false, the provider will return JSON output for data sources.
- `endpoint` (Attributes List) (see [below for nested schema](#nestedatt--endpoint))
- `environment` (String) The Cloud Environment which should be used. Possible values are public, usgovernment and china. Defaults to public.
- `oidc_request_token` (String) The bearer token for the request to the OIDC provider. For use When authenticating as a Service Principal using OpenID Connect.
- `oidc_request_url` (String) The URL for the OIDC provider from which to request an ID token. For use When authenticating as a Service Principal using OpenID Connect.
- `oidc_token` (String) The OIDC ID token for use when authenticating as a Service Principal using OpenID Connect.
- `oidc_token_file_path` (String) The path to a file containing an OIDC ID token for use when authenticating as a Service Principal using OpenID Connect.
- `partner_id` (String) A GUID/UUID that is registered with Microsoft to facilitate partner resource usage attribution.
- `skip_provider_registration` (Boolean) Should the Provider skip registering all of the Resource Providers that it supports, if they're not already registered?
- `subscription_id` (String) The Subscription ID which should be used.
- `tenant_id` (String) The Tenant ID which should be used.
- `use_aks_workload_identity` (Boolean) Should AKS Workload Identity be used for Authentication? This can also be sourced from the `ARM_USE_AKS_WORKLOAD_IDENTITY` Environment Variable. Defaults to `false`. When set, `client_id`, `tenant_id` and `oidc_token_file_path` will be detected from the environment and do not need to be specified.
- `use_cli` (Boolean) Allow Azure CLI to be used for Authentication.
- `use_msi` (Boolean) Allow Managed Service Identity to be used for Authentication.
- `use_oidc` (Boolean) Allow OpenID Connect to be used for authentication

<a id="nestedatt--endpoint"></a>
### Nested Schema for `endpoint`

Optional:

- `active_directory_authority_host` (String) The Active Directory login endpoint which should be used.
- `resource_manager_audience` (String) The resource ID to obtain AD tokens for.
- `resource_manager_endpoint` (String) The Resource Manager Endpoint which should be used.
