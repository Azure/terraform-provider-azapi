---
page_title: "azapi_resource List Resource - terraform-provider-azapi"
subcategory: ""
description: |-
  This list resource allows you to list Azure Resource Manager resources of a specific type under a given scope.
---

# azapi_resource (List Resource)

This list resource allows you to list Azure Resource Manager resources of a specific type under a given scope.

~> **Note:** The `azapi_resource` List Resource is in beta. Its interface and behaviour may change as the feature evolves, and breaking changes are possible. It is offered as a technical preview without compatibility guarantees until Terraform 1.14 is generally available.

## Example Usage

 ```terraform
 list "azapi_resource" "example" {
   provider = azapi
   config {
     type      = "Microsoft.Storage/storageAccounts@2021-04-01"
     parent_id = "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/example-rg"
   }
 }
 ```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `parent_id` (String) The ID of the azure resource in which this resource is created. It supports different kinds of deployment scope for **top level** resources:

  - resource group scope: `parent_id` should be the ID of a resource group, it's recommended to manage a resource group by azurerm_resource_group.
	- management group scope: `parent_id` should be the ID of a management group, it's recommended to manage a management group by azurerm_management_group.
	- extension scope: `parent_id` should be the ID of the resource you're adding the extension to.
	- subscription scope: `parent_id` should be like \x60/subscriptions/00000000-0000-0000-0000-000000000000\x60
	- tenant scope: `parent_id` should be /

  For child level resources, the `parent_id` should be the ID of its parent resource, for example, subnet resource's `parent_id` is the ID of the vnet.

  For type `Microsoft.Resources/resourceGroups`, the `parent_id` could be omitted, it defaults to subscription ID specified in provider or the default subscription (You could check the default subscription by azure cli command: `az account show`).
- `type` (String) In a format like `<resource-type>@<api-version>`. `<resource-type>` is the Azure resource type, for example, `Microsoft.Storage/storageAccounts`. `<api-version>` is version of the API used to manage this azure resource.

### Optional

- `headers` (Map of String) A map of headers to include in the request
- `query_parameters` (Map of List of String) A map of query parameters to include in the request

